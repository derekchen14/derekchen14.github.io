<!DOCTYPE html>
<!--
    Type on Strap jekyll theme v2.3.1
    Copyright 2016-2020 Sylhare
    Theme free for personal and commercial use under the MIT license
    https://github.com/sylhare/Type-on-Strap/blob/master/LICENSE
-->
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <!-- Main JS (navbar.js, katex_init.js and masonry_init.js)-->
    <script defer src="/assets/js/main.min.js"></script>
    
    <!-- CSS -->
    <link rel="stylesheet" href="/assets/css/main.css">

    <!--Favicon-->
    <link rel="shortcut icon" href="/assets/favicon.ico" type="image/x-icon">

    <!-- RSS -->
    <link rel="alternate" type="application/atom+xml" title="More Than One Turn" href="https://morethanoneturn.com/feed.xml"/>
    
    

    <!-- KaTeX 0.12.0 -->
    
    <script defer src="/assets/js/vendor/katex.min.js"></script>
    <script defer src="/assets/js/vendor/auto-render.min.js" onload="renderMathInElement(document.body);"></script>
    

    <!-- Mermaid 8.8.2 -->
    
    <!-- <script src=”https://cdnjs.cloudflare.com/ajax/libs/mermaid/8.8.2/mermaid.min.js" onload="mermaid.initialize({startOnLoad:true});"></script> -->
    <script defer src="/assets/js/vendor/mermaid.min.js" onload="mermaid.initialize({startOnLoad:true});"></script>
    

    <!-- Simple-Jekyll-Search 1.17.12 -->
    <script src="/assets/js/vendor/simple-jekyll-search.min.js" type="text/javascript"></script>

    <!-- Google Analytics / Cookie Consent -->
    <script>
      const cookieName = 'cookie-notice-dismissed-https://morethanoneturn.com';
      const isCookieConsent = 'false';
      const analyticsName = '';
    </script>

    
    

    <!-- seo tags -->
    <meta property="og:image" content="https://morethanoneturn.com/assets/img/pexels/triangular.jpeg">
    
    <meta property="og:type" content="website" />
    
    <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Dialog Agent Framework | More Than One Turn</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Dialog Agent Framework" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="(aka. How the technical part of the building a intelligent agent might work)" />
<meta property="og:description" content="(aka. How the technical part of the building a intelligent agent might work)" />
<link rel="canonical" href="https://morethanoneturn.com/2018/01/04/dialog_agent_framework.html" />
<meta property="og:url" content="https://morethanoneturn.com/2018/01/04/dialog_agent_framework.html" />
<meta property="og:site_name" content="More Than One Turn" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-01-04T18:09:00-05:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Dialog Agent Framework" />
<script type="application/ld+json">
{"description":"(aka. How the technical part of the building a intelligent agent might work)","headline":"Dialog Agent Framework","dateModified":"2018-01-04T18:09:00-05:00","datePublished":"2018-01-04T18:09:00-05:00","url":"https://morethanoneturn.com/2018/01/04/dialog_agent_framework.html","mainEntityOfPage":{"@type":"WebPage","@id":"https://morethanoneturn.com/2018/01/04/dialog_agent_framework.html"},"@type":"BlogPosting","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <!-- RSS -->
    <link type="application/atom+xml" rel="alternate" href="https://morethanoneturn.com/feed.xml" title="More Than One Turn" />

    <!-- Twitter Cards -->
    <meta name="twitter:title" content="Dialog Agent Framework">
    <meta name="twitter:description" content="(aka. How the technical part of the building a intelligent agent might work)Drawing upon the insights from traditional dialog state tracking and newer models...">
    
    <meta name="twitter:card" content="summary">
    <meta name="twitter:image" content="https://morethanoneturn.com/assets/img/pexels/triangular.jpeg">
    <meta name="twitter:image:alt" content="Dialog Agent Framework">
</head>

  <body>
    <header class="site-header">

    <!-- Logo and title -->
	<div class="branding">
        
		<a href="/">
			<img alt="logo img" class="avatar" src="/assets/img/triangle.png" />
		</a>
        
        <a class="site-title" aria-label="More Than One Turn" href="/">
        More Than One Turn
		</a>
	</div>

    <!-- Toggle menu -->
    <nav class="clear">
    <a aria-label="pull" id="pull" class="toggle" href="#">
    <i class="fa fa-bars fa-lg"></i>
    </a>

    <!-- Menu -->
    <ul class="hide">
        

        
            
            
        
            
            <li class="separator"> | </li>
            <li>
                <a class="clear" aria-label="About" title="About" href="/about/">
                     About 
                </a>
            </li>
            
            
        
            
            <li class="separator"> | </li>
            <li>
                <a class="clear" aria-label="Gallery" title="Gallery" href="/gallery/">
                     Gallery 
                </a>
            </li>
            
            
        
            
            
        
            
            
        
            
            <li class="separator"> | </li>
            <li>
                <a class="clear" aria-label="Portfolio" title="Portfolio" href="/portfolio/">
                     Portfolio 
                </a>
            </li>
            
            
        
            
            
        
            
            <li class="separator"> | </li>
            <li>
                <a class="clear" aria-label="Search" title="Search" href="/search/">
                     <i class="fa fa-search" aria-hidden="true"></i>
                    
                </a>
            </li>
            
            
        
            
            <li class="separator"> | </li>
            <li>
                <a class="clear" aria-label="Tags" title="Tags" href="/tags/">
                     <i class="fa fa-tags" aria-hidden="true"></i>
                    
                </a>
            </li>
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
    </ul>

	</nav>
</header>

    <div class="content">
      <article >
  <header id="main" style="">
    <div class="title-padder">
      
      <h1 id="Dialog+Agent+Framework" class="title">Dialog Agent Framework</h1>
      


<div class="post-info">
    <p class="meta">
      January 4, 2018
    </p></div>

      
    </div>
  </header>

  <section class="post-content">
  
      <p>(aka. How the technical part of the building a intelligent agent might work)</p>

<p>Drawing upon the insights from traditional dialog state tracking and newer models, a proposed framework includes the following key ideas:</p>

<ul>
  <li>Break down the problem into modules (similar to DMN): this is so that components can be analyzed individually, and optimized immediately when new algorithms come out.  Also, this is just good programming practice.</li>
  <li>System should be end-to-end differentiable: take advantage of the magic of SGD</li>
  <li>Focuses on user intents: research from Stanford NLP has shown that rule-based agents can perform on par with neural-based agents by focusing on modeling user beliefs which significantly limits the amount of calculation required by the model.</li>
  <li>Closed domain: each bot handles some small section of related tasks to make the problem tractable.  Don’t try to make one bot that does everything at once.</li>
</ul>

<p>The model takes in user input:</p>

<ol>
  <li>Perform NLU to infer user beliefs:
    <ul>
      <li>tokenization and vocab embedding lookup</li>
      <li>lexer to find relevant entities</li>
      <li>parser to identify user intent</li>
      <li>reformulate as user query</li>
      <li><em>Best Candidate</em>: Bi-LSTM encoder with attention</li>
    </ul>
  </li>
  <li>Model query as probabilistic factor in a Bayes Net:
    <ul>
      <li>user belief modeled as (hidden) state, so solution must go beyond reflexive machine learning algorithms</li>
      <li>not a binary factor since the prediction of user intent was a probability distribution</li>
      <li>to the extent that user intent is an indicator variable (ie. did or did not click a button declaring explicit preference), then add laplace smoothing</li>
      <li>not a Markov Network or CRF since turns within a dialogue have order, and thus direction (i.e. we can’t look into the future to perform smoothing)</li>
      <li>process and store query as continuous vector embedding to allow for gradients</li>
      <li><em>Best Candidate</em>: Dynamic Memory Network or EntNet</li>
    </ul>
  </li>
  <li>Performance Module:
    <ul>
      <li>Receive reward if proper API is called.  Reward signal in the form of task completion accuracy.</li>
      <li><em>Best Candidate</em>: AC3 or TRPO</li>
    </ul>
  </li>
  <li>Understanding Module:
    <ul>
      <li>Different from most models, we explicitly try to model whether or not we have a high confidence of the user intent.</li>
      <li>If low confidence, ask for follow up (i.e. “What did you mean by that?”) just like in real life, rather than setting user intent state as “unknown”</li>
      <li>Receive reward if properly predict user intent.  Reward signal in the form of positive signals.
 (i.e. “Thanks!”)</li>
      <li>Allows model to never return generic (non-useful) answer.</li>
    </ul>
  </li>
  <li>GAN for generating agent response:
    <ul>
      <li>Discriminator measures coherency of agent output</li>
      <li>Humanlike-ness and interesting-ness are secondary</li>
      <li>Generator probably a GRU Decoder with beam search</li>
    </ul>
  </li>
</ol>

<p>As a first pass, if a rule-based method or IR can find answers, use that rather than passing to neural-based agent which may take time.  Additionally, fallbacks need to be implemented in case nothing useful is found. Attach speech recognition and TTS modules if desired.</p>

<p>Critically, limiting usage to small domains allows agent to tractably approximate full state space of user intents.  Scalability comes from connecting multiple such agents together rather than having one agent that can do it all.  Consequently, the process for building (and training and KBP) for many agents must be incredibly simple.  Furthermore, this implies that each agent should be able to work independently of all other agents.</p>

<p>In conjunction, similar to how ensembles always win data science competitions, all the smaller agents form a super-agent with superior capabilities.</p>

    
  </section>

  <!-- Social media shares -->
  

<div class="share-buttons">
    <ul class="share-buttons">
        <div class="meta">Share</div>
        
        <li>
            <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fmorethanoneturn.com%2F2018%2F01%2F04%2Fdialog_agent_framework.html" target="_blank" title=" Facebook">
			<i class="fa fa-facebook-square fa-2x" aria-hidden="true"></i>
			<span class="sr-only">Share on Facebook</span>
		</a>
        </li>
         
        <li>
            <a href="https://twitter.com/intent/tweet?text=Dialog+Agent+Framework%20https%3A%2F%2Fmorethanoneturn.com%2F2018%2F01%2F04%2Fdialog_agent_framework.html" target="_blank" title="">
			<i class="fa fa-twitter-square fa-2x" aria-hidden="true"></i>
			<span class="sr-only">Tweet</span>
		</a>
        </li>
            
        <li>
            <a href="http://www.reddit.com/submit?url=https://morethanoneturn.com/2018/01/04/dialog_agent_framework.html&title=Dialog+Agent+Framework%20%7C%20More+Than+One+Turn" target="_blank" title=" Reddit">
			<i class="fa fa-reddit-square fa-2x" aria-hidden="true"></i>
			<span class="sr-only">Share on Reddit</span>
		</a>
        </li>
           
        <li>
            <a href="mailto:?subject=Dialog+Agent+Framework%20%7C%20More+Than+One+Turn&body=:%20https://morethanoneturn.com/2018/01/04/dialog_agent_framework.html" target="_blank" title="">
			<i class="fa fa-envelope-square fa-2x" aria-hidden="true"></i>
			<span class="sr-only">Email</span>
		</a>
        </li>
        
    </ul>
</div>




   <!-- Tag list -->
  
  


<footer>
  <div class="tag-list"></div>
</footer>


</article>

<!-- Disqus -->


<!-- Post navigation -->

  <div id="post-nav">
    
    <div id="previous-post">
        <a alt="CS224n Poster Session 2018" href="/2018/03/23/cs224n-poster-session-2018.html">
            <p>Previous post</p>
            CS224n Poster Session 2018
        </a>
    </div>
    

    
    <div id="next-post">
        <a alt="Task-Oriented Dialog Agents" href="/2017/12/03/task-oriented-dialog-agents.html">
            <p>Next post</p>
            Task-Oriented Dialog Agents
        </a>
    </div>
    
</div>



<!-- To change color of links in the page -->
<style>
  

  header#main {
    background-repeat:no-repeat;
  
  }
</style>

    </div>
    <footer class="site-footer">
    <p class="text">
        Made in San Francisco with <3
</p>
            <div class="footer-icons">
                <ul>
                <!-- Social icons from Font Awesome, if enabled -->
                
<li>
    <a feed.xml href="/feed.xml"
       title="Follow RSS feed">
        <span class="fa-stack fa-lg">
            <i class="fa fa-circle fa-stack-2x"></i>
            <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
        </span>
    </a>
</li>















<li>
    <a href="https://github.com/sylhare" title="Follow on GitHub">
		<span class="fa-stack fa-lg">
            <i class="fa fa-circle fa-stack-2x"></i>
            <i class="fa fa-github fa-stack-1x fa-inverse"></i>
        </span>
    </a>
</li>
































                </ul>
            </div>
</footer>



  </body>
</html>
